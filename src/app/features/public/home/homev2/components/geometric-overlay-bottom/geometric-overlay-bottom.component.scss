// ==============================================
// Overlay Geom칠trico Inferior - Interactivo
// ==============================================
.geometric-overlay-bottom {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none; // El contenedor global no bloquea clicks

    .geo-pattern {
        width: 100%;
        height: 100%;
    }

    // Animaci칩n de pulso "Energ칤a" en las uniones
    @keyframes energy-pulse {
        0% {
            stroke-opacity: 0.1;
            stroke-width: 0.1px;
            stroke: rgba(255, 255, 255, 0.4);
        }

        50% {
            stroke-opacity: 0.6;
            stroke-width: 0.3px;
            stroke: rgba(255, 255, 255, 0.8);
        }

        100% {
            stroke-opacity: 0.1;
            stroke-width: 0.2px;
            stroke: rgba(255, 255, 255, 0.4);
        }
    }

    // Grupo de cada fragmento
    .shard-group {
        pointer-events: auto;
        cursor: pointer;

        // Capa de color (Superior)
        .shard-color-layer {
            transition: opacity 0.8s ease, stroke-opacity 0.8s ease; // M치s lento (0.8s) para suavidad
            // Opacidad base definida por el atributo fill del SVG

            // Efecto "Uniones de Energ칤a" (Valores finos del usuario)
            stroke: rgba(255, 255, 255, 0.6);
            stroke-width: 0.1px; // Fino
            stroke-opacity: 0.1;
            // La duraci칩n es m치s r치pida (3s) y el delay viene del HTML
            animation: energy-pulse 3s infinite ease-in-out;
        }

        // Capa de imagen (Inferior)
        .shard-image-layer {
            opacity: 0; // 游놑 Oculta por defecto
            transition: opacity 0.8s ease; // M치s lento (0.8s) para suavidad
        }

        // Interacci칩n: Hover (Mouse) - SOLO en dispositivos con puntero real
        @media (hover: hover) {
            &:hover {
                .shard-color-layer {
                    opacity: 0; // Se oculta el gris
                    stroke-opacity: 0; // Se oculta el borde
                }

                .shard-image-layer {
                    opacity: 1; // 游닞 Se revela la imagen
                }
            }
        }

        // Interacci칩n: Active (Touch) && Estado Activado (Click)
        &:active,
        &.is-active {
            .shard-color-layer {
                opacity: 0;
                stroke-opacity: 0;
            }

            .shard-image-layer {
                opacity: 1;
            }
        }
    }
}